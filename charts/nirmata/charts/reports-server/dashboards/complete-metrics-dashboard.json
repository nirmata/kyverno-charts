{
  "title": "Reports Server - Complete Metrics Dashboard",
  "uid": "reports-server-complete",
  "timezone": "browser",
  "schemaVersion": 38,
  "version": 1,
  "refresh": "30s",
  "editable": true,
  "graphTooltip": 1,
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "tags": [
    "reports-server",
    "kyverno",
    "metrics"
  ],
  "templating": {
    "list": [
      {
        "name": "namespace",
        "type": "query",
        "label": "Namespace",
        "query": "label_values(reports_server_api_requests_total, namespace)",
        "refresh": 1,
        "includeAll": true,
        "multi": true,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        }
      },
      {
        "name": "pod",
        "type": "query",
        "label": "Pod",
        "query": "label_values(reports_server_leader_is_leader, pod_name)",
        "refresh": 1,
        "includeAll": true,
        "multi": true,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        }
      },
      {
        "name": "resource_type",
        "type": "query",
        "label": "Resource Type",
        "query": "label_values(reports_server_storage_operations_total, resource_type)",
        "refresh": 1,
        "includeAll": true,
        "multi": true,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        }
      }
    ]
  },
  "panels": [
    {
      "type": "row",
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 1,
      "title": "Overview & Server Health"
    },
    {
      "type": "stat",
      "title": "Server Uptime",
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 0,
        "y": 1
      },
      "id": 2,
      "targets": [
        {
          "expr": "reports_server_server_uptime_seconds",
          "legendFormat": "Uptime",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          }
        }
      ],
      "options": {
        "graphMode": "area",
        "colorMode": "value",
        "orientation": "auto",
        "textMode": "auto"
      },
      "fieldConfig": {
        "defaults": {
          "unit": "s",
          "color": {
            "mode": "thresholds"
          },
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              }
            ]
          }
        }
      }
    },
    {
      "type": "stat",
      "title": "Health Check Status",
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 4,
        "y": 1
      },
      "id": 3,
      "targets": [
        {
          "expr": "reports_server_server_health_check_status",
          "legendFormat": "{{check_name}}",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          }
        }
      ],
      "options": {
        "graphMode": "none",
        "colorMode": "value",
        "textMode": "value_and_name"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "type": "value",
              "value": 1,
              "text": "Healthy",
              "color": "green"
            },
            {
              "type": "value",
              "value": 0,
              "text": "Unhealthy",
              "color": "red"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": 0,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          }
        }
      }
    },
    {
      "type": "stat",
      "title": "API Groups Installed",
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 8,
        "y": 1
      },
      "id": 4,
      "targets": [
        {
          "expr": "reports_server_server_api_groups_installed",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          }
        }
      ],
      "options": {
        "colorMode": "value",
        "graphMode": "none"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          }
        }
      }
    },
    {
      "type": "stat",
      "title": "Leader Election Status",
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 12,
        "y": 1
      },
      "id": 5,
      "targets": [
        {
          "expr": "reports_server_leader_is_leader{pod_name=~\"$pod\"}",
          "legendFormat": "{{pod_name}}",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          }
        }
      ],
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "value_and_name"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "type": "value",
              "value": 1,
              "text": "Leader",
              "color": "green"
            },
            {
              "type": "value",
              "value": 0,
              "text": "Follower",
              "color": "blue"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": 0,
                "color": "blue"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          }
        }
      }
    },
    {
      "type": "stat",
      "title": "Total Reports Stored",
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 16,
        "y": 1
      },
      "id": 6,
      "targets": [
        {
          "expr": "sum(reports_server_storage_reports_total{resource_type=~\"$resource_type\"})",
          "legendFormat": "Total",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          }
        }
      ],
      "options": {
        "colorMode": "value",
        "graphMode": "area"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          }
        }
      }
    },
    {
      "type": "stat",
      "title": "Goroutines",
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 20,
        "y": 1
      },
      "id": 7,
      "targets": [
        {
          "expr": "reports_server_runtime_goroutines_total",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          }
        }
      ],
      "options": {
        "colorMode": "value",
        "graphMode": "area"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1000,
                "color": "yellow"
              },
              {
                "value": 5000,
                "color": "red"
              }
            ]
          }
        }
      }
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 100,
      "title": "API Metrics",
      "panels": [
        {
          "type": "timeseries",
          "title": "API Request Rate (by resource and verb)",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 6
          },
          "id": 101,
          "targets": [
            {
              "expr": "sum(rate(reports_server_api_requests_total{resource=~\"$resource_type\"}[5m])) by (resource, verb)",
              "legendFormat": "{{resource}}/{{verb}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "reqps",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Requests/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "API Request Duration (p50, p95, p99)",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 6
          },
          "id": 102,
          "targets": [
            {
              "expr": "histogram_quantile(0.50, sum(rate(reports_server_api_request_duration_seconds_bucket{resource=~\"$resource_type\"}[5m])) by (le, resource, verb))",
              "legendFormat": "p50 - {{resource}}/{{verb}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_api_request_duration_seconds_bucket{resource=~\"$resource_type\"}[5m])) by (le, resource, verb))",
              "legendFormat": "p95 - {{resource}}/{{verb}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.99, sum(rate(reports_server_api_request_duration_seconds_bucket{resource=~\"$resource_type\"}[5m])) by (le, resource, verb))",
              "legendFormat": "p99 - {{resource}}/{{verb}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "API Requests In-Flight",
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 14
          },
          "id": 103,
          "targets": [
            {
              "expr": "reports_server_api_requests_inflight{resource=~\"$resource_type\"}",
              "legendFormat": "{{resource}}/{{verb}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Requests",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Active Watchers",
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 14
          },
          "id": 104,
          "targets": [
            {
              "expr": "reports_server_api_watchers_active{resource=~\"$resource_type\"}",
              "legendFormat": "{{resource}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Watchers",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Validation Errors",
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 14
          },
          "id": 105,
          "targets": [
            {
              "expr": "sum(rate(reports_server_api_validation_errors_total{resource=~\"$resource_type\"}[5m])) by (resource, operation)",
              "legendFormat": "{{resource}}/{{operation}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Errors/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Request/Response Payload Sizes",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 22
          },
          "id": 106,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_api_request_size_bytes_bucket{resource=~\"$resource_type\"}[5m])) by (le, resource, verb))",
              "legendFormat": "Request p95 - {{resource}}/{{verb}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_api_response_size_bytes_bucket{resource=~\"$resource_type\"}[5m])) by (le, resource, verb))",
              "legendFormat": "Response p95 - {{resource}}/{{verb}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "bytes",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Size",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Pagination Metrics",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 22
          },
          "id": 107,
          "targets": [
            {
              "expr": "sum(rate(reports_server_api_pagination_requests_total{resource=~\"$resource_type\"}[5m])) by (resource, has_more)",
              "legendFormat": "{{resource}} - has_more={{has_more}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "reqps",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Requests/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Queue Depth & Wait Time",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 30
          },
          "id": 108,
          "targets": [
            {
              "expr": "reports_server_api_request_queue_depth{resource=~\"$resource_type\"}",
              "legendFormat": "Queue Depth - {{resource}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Depth",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Dropped Requests",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 30
          },
          "id": 109,
          "targets": [
            {
              "expr": "sum(rate(reports_server_api_dropped_requests_total{resource=~\"$resource_type\"}[5m])) by (resource, reason)",
              "legendFormat": "{{resource}} - {{reason}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "reqps",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Dropped/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 6
      },
      "id": 150,
      "title": "CRUD Operations by Resource Type (EphemeralReport, PolicyReport, etc.)",
      "panels": [
        {
          "type": "timeseries",
          "title": "EphemeralReport Operations Rate (Create/Get/Update/Delete)",
          "description": "CRUD operations rate for EphemeralReport resources. Shows create, get, list, update, delete operations with their status (success/error/not_found).",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "id": 151,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_operations_total{resource_type=\"EphemeralReport\"}[5m])) by (operation, status)",
              "legendFormat": "{{operation}} - {{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity"
              },
              "color": {
                "mode": "palette-classic"
              }
            }
          },
          "options": {
            "tooltip": { "mode": "multi", "sort": "desc" },
            "legend": { "showLegend": true, "displayMode": "table", "placement": "bottom", "calcs": ["mean", "lastNotNull", "max"] }
          }
        },
        {
          "type": "timeseries",
          "title": "PolicyReport Operations Rate (Create/Get/Update/Delete)",
          "description": "CRUD operations rate for PolicyReport resources. Shows create, get, list, update, delete operations with their status (success/error/not_found).",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "id": 152,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_operations_total{resource_type=\"PolicyReport\"}[5m])) by (operation, status)",
              "legendFormat": "{{operation}} - {{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity"
              },
              "color": {
                "mode": "palette-classic"
              }
            }
          },
          "options": {
            "tooltip": { "mode": "multi", "sort": "desc" },
            "legend": { "showLegend": true, "displayMode": "table", "placement": "bottom", "calcs": ["mean", "lastNotNull", "max"] }
          }
        },
        {
          "type": "timeseries",
          "title": "ClusterPolicyReport Operations Rate (Create/Get/Update/Delete)",
          "description": "CRUD operations rate for ClusterPolicyReport resources. Shows create, get, list, update, delete operations with their status (success/error/not_found).",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "id": 153,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_operations_total{resource_type=\"ClusterPolicyReport\"}[5m])) by (operation, status)",
              "legendFormat": "{{operation}} - {{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity"
              },
              "color": {
                "mode": "palette-classic"
              }
            }
          },
          "options": {
            "tooltip": { "mode": "multi", "sort": "desc" },
            "legend": { "showLegend": true, "displayMode": "table", "placement": "bottom", "calcs": ["mean", "lastNotNull", "max"] }
          }
        },
        {
          "type": "timeseries",
          "title": "ClusterEphemeralReport Operations Rate (Create/Get/Update/Delete)",
          "description": "CRUD operations rate for ClusterEphemeralReport resources. Shows create, get, list, update, delete operations with their status (success/error/not_found).",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 15
          },
          "id": 154,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_operations_total{resource_type=\"ClusterEphemeralReport\"}[5m])) by (operation, status)",
              "legendFormat": "{{operation}} - {{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity"
              },
              "color": {
                "mode": "palette-classic"
              }
            }
          },
          "options": {
            "tooltip": { "mode": "multi", "sort": "desc" },
            "legend": { "showLegend": true, "displayMode": "table", "placement": "bottom", "calcs": ["mean", "lastNotNull", "max"] }
          }
        },
        {
          "type": "timeseries",
          "title": "Operation Duration by Resource Type (p95)",
          "description": "95th percentile latency for storage operations by resource type and operation (create/get/update/delete/list).",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 23
          },
          "id": 155,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_storage_operation_duration_seconds_bucket{resource_type=~\"$resource_type\"}[5m])) by (le, resource_type, operation))",
              "legendFormat": "{{resource_type}}/{{operation}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity"
              },
              "color": {
                "mode": "palette-classic"
              }
            }
          },
          "options": {
            "tooltip": { "mode": "multi", "sort": "desc" },
            "legend": { "showLegend": true, "displayMode": "table", "placement": "bottom", "calcs": ["mean", "lastNotNull", "max"] }
          }
        },
        {
          "type": "stat",
          "title": "Total Reports by Type",
          "description": "Current count of reports stored in the database by resource type.",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 23
          },
          "id": 156,
          "targets": [
            {
              "expr": "reports_server_storage_reports_total",
              "legendFormat": "{{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "textMode": "value_and_name"
          },
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "palette-classic" }
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Reports Created/Updated/Deleted Rate",
          "description": "Rate of report creation, updates, and deletions by resource type.",
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 31
          },
          "id": 157,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_reports_created_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "Created - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_storage_reports_updated_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "Updated - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_storage_reports_deleted_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "Deleted - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity"
              },
              "color": {
                "mode": "palette-classic"
              }
            }
          },
          "options": {
            "tooltip": { "mode": "multi", "sort": "desc" },
            "legend": { "showLegend": true, "displayMode": "table", "placement": "bottom", "calcs": ["mean", "lastNotNull", "max"] }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 200,
      "title": "Storage Metrics (Aggregate)",
      "panels": [
        {
          "type": "timeseries",
          "title": "Storage Operations Rate (All Types)",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 8
          },
          "id": 201,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_operations_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type, operation, status)",
              "legendFormat": "{{resource_type}}/{{operation}} - {{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Operations/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Storage Operation Duration (p50, p95, p99)",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "id": 202,
          "targets": [
            {
              "expr": "histogram_quantile(0.50, sum(rate(reports_server_storage_operation_duration_seconds_bucket{resource_type=~\"$resource_type\"}[5m])) by (le, resource_type, operation))",
              "legendFormat": "p50 - {{resource_type}}/{{operation}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_storage_operation_duration_seconds_bucket{resource_type=~\"$resource_type\"}[5m])) by (le, resource_type, operation))",
              "legendFormat": "p95 - {{resource_type}}/{{operation}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.99, sum(rate(reports_server_storage_operation_duration_seconds_bucket{resource_type=~\"$resource_type\"}[5m])) by (le, resource_type, operation))",
              "legendFormat": "p99 - {{resource_type}}/{{operation}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Reports Stored by Type",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "id": 203,
          "targets": [
            {
              "expr": "reports_server_storage_reports_total{resource_type=~\"$resource_type\"}",
              "legendFormat": "{{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Reports Created/Updated/Deleted Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 15
          },
          "id": 204,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_reports_created_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "Created - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_storage_reports_updated_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "Updated - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_storage_reports_deleted_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "Deleted - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Operations/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Cache Hit Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 23
          },
          "id": 205,
          "targets": [
            {
              "expr": "sum(rate(reports_server_storage_cache_requests_total{resource_type=~\"$resource_type\", result=\"hit\"}[5m])) by (resource_type) / sum(rate(reports_server_storage_cache_requests_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "{{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "percentunit",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Hit Rate",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Filter Efficiency",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 23
          },
          "id": 206,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_storage_filter_efficiency_ratio_bucket{resource_type=~\"$resource_type\"}[5m])) by (le, resource_type))",
              "legendFormat": "p95 - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "percentunit",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Efficiency",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 300,
      "title": "Database & Connection Pool Metrics",
      "panels": [
        {
          "type": "timeseries",
          "title": "Database Query Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 8
          },
          "id": 301,
          "targets": [
            {
              "expr": "sum(rate(reports_server_pool_queries_total[5m])) by (database, operation, table, status)",
              "legendFormat": "{{operation}}/{{table}} - {{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Queries/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Database Query Duration (p50/p95/p99)",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 8
          },
          "id": 302,
          "targets": [
            {
              "expr": "histogram_quantile(0.50, sum(rate(reports_server_pool_query_duration_seconds_bucket[5m])) by (le, operation, table))",
              "legendFormat": "p50 - {{operation}}/{{table}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_pool_query_duration_seconds_bucket[5m])) by (le, operation, table))",
              "legendFormat": "p95 - {{operation}}/{{table}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.99, sum(rate(reports_server_pool_query_duration_seconds_bucket[5m])) by (le, operation, table))",
              "legendFormat": "p99 - {{operation}}/{{table}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Connection Pool - Open/In-Use/Idle Connections",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 303,
          "targets": [
            {
              "expr": "reports_server_pool_open_connections",
              "legendFormat": "Open - {{database}}/{{role}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_pool_in_use_connections",
              "legendFormat": "In Use - {{database}}/{{role}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_pool_idle_connections",
              "legendFormat": "Idle - {{database}}/{{role}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Connections",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Connection Pool Utilization",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 304,
          "targets": [
            {
              "expr": "reports_server_pool_utilization_ratio",
              "legendFormat": "{{database}}/{{role}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "percentunit",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Utilization",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Connection Wait Time",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "id": 305,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_pool_wait_duration_seconds_bucket[5m])) by (le, database, role))",
              "legendFormat": "p95 - {{database}}/{{role}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Wait Time",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Query Duration by Operation",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "id": 306,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_pool_query_duration_seconds_bucket[5m])) by (le, database, operation, table))",
              "legendFormat": "p95 - {{operation}}/{{table}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Transaction Metrics",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 32
          },
          "id": 307,
          "targets": [
            {
              "expr": "sum(rate(reports_server_pool_transactions_total[5m])) by (database)",
              "legendFormat": "Total - {{database}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_pool_transaction_commits_total[5m])) by (database)",
              "legendFormat": "Commits - {{database}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_pool_transaction_rollbacks_total[5m])) by (database)",
              "legendFormat": "Rollbacks - {{database}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Transactions/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Query Error Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 32
          },
          "id": 308,
          "targets": [
            {
              "expr": "sum(rate(reports_server_pool_query_errors_total[5m])) by (database, operation, error_type)",
              "legendFormat": "{{operation}} - {{error_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Errors/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 8
      },
      "id": 400,
      "title": "Watch Metrics",
      "panels": [
        {
          "type": "timeseries",
          "title": "Active Watch Connections",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 9
          },
          "id": 401,
          "targets": [
            {
              "expr": "reports_server_watch_connections_active{resource=~\"$resource_type\"}",
              "legendFormat": "{{resource}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Connections",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Watch Events Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 9
          },
          "id": 402,
          "targets": [
            {
              "expr": "sum(rate(reports_server_watch_events_total{resource=~\"$resource_type\"}[5m])) by (resource, event_type)",
              "legendFormat": "{{resource}}/{{event_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Events/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Watch Events Sent vs Dropped",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 17
          },
          "id": 403,
          "targets": [
            {
              "expr": "sum(rate(reports_server_watch_events_sent{resource=~\"$resource_type\"}[5m])) by (resource)",
              "legendFormat": "Sent - {{resource}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_watch_events_dropped{resource=~\"$resource_type\"}[5m])) by (resource, reason)",
              "legendFormat": "Dropped - {{resource}}/{{reason}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Events/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Watch Connection Duration",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 17
          },
          "id": 404,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_watch_connection_duration_seconds_bucket{resource=~\"$resource_type\"}[5m])) by (le, resource))",
              "legendFormat": "p95 - {{resource}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 500,
      "title": "Runtime Metrics (Go Memory, GC, CPU)",
      "panels": [
        {
          "type": "timeseries",
          "title": "Memory Usage (Heap)",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 10
          },
          "id": 501,
          "targets": [
            {
              "expr": "reports_server_runtime_heap_alloc_bytes",
              "legendFormat": "Heap Alloc",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_runtime_heap_sys_bytes",
              "legendFormat": "Heap Sys",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_runtime_heap_inuse_bytes",
              "legendFormat": "Heap InUse",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_runtime_heap_idle_bytes",
              "legendFormat": "Heap Idle",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "bytes",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Memory",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Goroutines",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 10
          },
          "id": 502,
          "targets": [
            {
              "expr": "reports_server_runtime_goroutines_total",
              "legendFormat": "Goroutines",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "GC Pause Duration",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 18
          },
          "id": 503,
          "targets": [
            {
              "expr": "histogram_quantile(0.50, sum(rate(reports_server_runtime_gc_pause_seconds_bucket[5m])) by (le))",
              "legendFormat": "p50",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_runtime_gc_pause_seconds_bucket[5m])) by (le))",
              "legendFormat": "p95",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.99, sum(rate(reports_server_runtime_gc_pause_seconds_bucket[5m])) by (le))",
              "legendFormat": "p99",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Pause Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "GC CPU Fraction",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 18
          },
          "id": 504,
          "targets": [
            {
              "expr": "reports_server_runtime_gc_cpu_fraction",
              "legendFormat": "GC CPU Fraction",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "percentunit",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "CPU Fraction",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "GC Cycles Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 26
          },
          "id": 505,
          "targets": [
            {
              "expr": "rate(reports_server_runtime_gc_cycles_total[5m])",
              "legendFormat": "GC Cycles/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Cycles/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Memory Allocation Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 26
          },
          "id": 506,
          "targets": [
            {
              "expr": "rate(reports_server_runtime_total_alloc_bytes_total[5m])",
              "legendFormat": "Alloc Rate",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "rate(reports_server_runtime_mallocs_total[5m])",
              "legendFormat": "Malloc Rate",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "rate(reports_server_runtime_frees_total[5m])",
              "legendFormat": "Free Rate",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "Bps",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "stat",
          "title": "GOMAXPROCS",
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 0,
            "y": 34
          },
          "id": 507,
          "targets": [
            {
              "expr": "reports_server_runtime_gomaxprocs",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "options": {
            "colorMode": "value",
            "graphMode": "none"
          }
        },
        {
          "type": "stat",
          "title": "Num CPUs",
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 6,
            "y": 34
          },
          "id": 508,
          "targets": [
            {
              "expr": "reports_server_runtime_num_cpu",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "options": {
            "colorMode": "value",
            "graphMode": "none"
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 10
      },
      "id": 600,
      "title": "Migration Metrics",
      "panels": [
        {
          "type": "stat",
          "title": "Migration Status",
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 0,
            "y": 11
          },
          "id": 601,
          "targets": [
            {
              "expr": "reports_server_migration_status",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "options": {
            "colorMode": "value",
            "graphMode": "none"
          },
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "type": "value",
                  "value": 0,
                  "text": "Not Started",
                  "color": "blue"
                },
                {
                  "type": "value",
                  "value": 1,
                  "text": "Running",
                  "color": "yellow"
                },
                {
                  "type": "value",
                  "value": 2,
                  "text": "Completed",
                  "color": "green"
                },
                {
                  "type": "value",
                  "value": 3,
                  "text": "Failed",
                  "color": "red"
                }
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Migration Progress by Resource Type",
          "gridPos": {
            "h": 8,
            "w": 18,
            "x": 6,
            "y": 11
          },
          "id": 602,
          "targets": [
            {
              "expr": "reports_server_migration_progress_ratio{resource_type=~\"$resource_type\"}",
              "legendFormat": "{{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "percentunit",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Progress",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Items Processed Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "id": 603,
          "targets": [
            {
              "expr": "sum(rate(reports_server_migration_items_processed_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type)",
              "legendFormat": "Processed - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_migration_items_skipped_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type, reason)",
              "legendFormat": "Skipped - {{resource_type}}/{{reason}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_migration_items_failed_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type, error_type)",
              "legendFormat": "Failed - {{resource_type}}/{{error_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Items/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Migration Phase Duration",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 15
          },
          "id": 604,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_migration_phase_duration_seconds_bucket[5m])) by (le, phase, status))",
              "legendFormat": "p95 - {{phase}}/{{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Batch Processing Metrics",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 23
          },
          "id": 605,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_migration_batch_size_bucket{resource_type=~\"$resource_type\"}[5m])) by (le, resource_type))",
              "legendFormat": "Batch Size p95 - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Items",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "K8s API List/Watch Metrics",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 23
          },
          "id": 606,
          "targets": [
            {
              "expr": "sum(rate(reports_server_migration_k8s_list_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type, status)",
              "legendFormat": "List - {{resource_type}}/{{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_migration_k8s_watch_events_total{resource_type=~\"$resource_type\"}[5m])) by (resource_type, event_type)",
              "legendFormat": "Watch - {{resource_type}}/{{event_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Operations/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Sync Workers Active/Idle",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 607,
          "targets": [
            {
              "expr": "reports_server_migration_sync_workers_active{resource_type=~\"$resource_type\"}",
              "legendFormat": "Active - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_migration_sync_workers_idle{resource_type=~\"$resource_type\"}",
              "legendFormat": "Idle - {{resource_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Workers",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Migration Error Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 608,
          "targets": [
            {
              "expr": "sum(rate(reports_server_migration_errors_by_type_total[5m])) by (error_type)",
              "legendFormat": "{{error_type}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Errors/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 11
      },
      "id": 700,
      "title": "Leader Election Metrics",
      "panels": [
        {
          "type": "stat",
          "title": "Current Leader",
          "gridPos": {
            "h": 4,
            "w": 8,
            "x": 0,
            "y": 12
          },
          "id": 701,
          "targets": [
            {
              "expr": "reports_server_leader_identity",
              "legendFormat": "{{leader_identity}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "textMode": "name"
          }
        },
        {
          "type": "stat",
          "title": "Leadership Changes",
          "gridPos": {
            "h": 4,
            "w": 8,
            "x": 8,
            "y": 12
          },
          "id": 702,
          "targets": [
            {
              "expr": "reports_server_leader_changes_total",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "options": {
            "colorMode": "value",
            "graphMode": "area"
          }
        },
        {
          "type": "timeseries",
          "title": "Leadership Held Duration",
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 12
          },
          "id": 703,
          "targets": [
            {
              "expr": "reports_server_leader_held_duration_seconds{pod_name=~\"$pod\"}",
              "legendFormat": "{{pod_name}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Lease Renewal Success/Failures",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 704,
          "targets": [
            {
              "expr": "rate(reports_server_leader_renew_successes_total[5m])",
              "legendFormat": "Successes",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_leader_renew_failures_total[5m])) by (reason)",
              "legendFormat": "Failures - {{reason}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Operations/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Lease Renewal Duration",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 705,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_leader_renew_duration_seconds_bucket[5m])) by (le, status))",
              "legendFormat": "p95 - {{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Heartbeat Metrics",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "id": 706,
          "targets": [
            {
              "expr": "rate(reports_server_leader_heartbeat_successes_total[5m])",
              "legendFormat": "Successes",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_leader_heartbeat_failures_total[5m])) by (reason)",
              "legendFormat": "Failures - {{reason}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Heartbeats/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Election Participants",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "id": 707,
          "targets": [
            {
              "expr": "reports_server_leader_election_participants",
              "legendFormat": "Participants",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_leader_competing_pods",
              "legendFormat": "Competing Pods",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "id": 800,
      "title": "Serialization & Concurrency Metrics",
      "panels": [
        {
          "type": "timeseries",
          "title": "Marshal/Unmarshal Operations Rate",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 13
          },
          "id": 801,
          "targets": [
            {
              "expr": "sum(rate(reports_server_codec_marshal_total[5m])) by (resource_type, format, status)",
              "legendFormat": "Marshal - {{resource_type}}/{{format}}/{{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(rate(reports_server_codec_unmarshal_total[5m])) by (resource_type, format, status)",
              "legendFormat": "Unmarshal - {{resource_type}}/{{format}}/{{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Operations/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Serialization Duration",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 13
          },
          "id": 802,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_codec_marshal_duration_seconds_bucket[5m])) by (le, resource_type, format))",
              "legendFormat": "Marshal p95 - {{resource_type}}/{{format}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(reports_server_codec_unmarshal_duration_seconds_bucket[5m])) by (le, resource_type, format))",
              "legendFormat": "Unmarshal p95 - {{resource_type}}/{{format}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Duration",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Goroutines by Component",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "id": 803,
          "targets": [
            {
              "expr": "reports_server_concurrency_goroutines_by_component",
              "legendFormat": "{{component}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Goroutines",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Queue Depth by Queue",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "id": 804,
          "targets": [
            {
              "expr": "reports_server_concurrency_queue_depth",
              "legendFormat": "{{queue_name}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Depth",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Worker Pool Active/Idle Workers",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 29
          },
          "id": 805,
          "targets": [
            {
              "expr": "reports_server_concurrency_workers_active",
              "legendFormat": "Active - {{pool_name}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "reports_server_concurrency_workers_idle",
              "legendFormat": "Idle - {{pool_name}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Workers",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Lock Contention",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 29
          },
          "id": 806,
          "targets": [
            {
              "expr": "sum(rate(reports_server_concurrency_lock_contentions_total[5m])) by (lock_name)",
              "legendFormat": "{{lock_name}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "ops",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Contentions/sec",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      },
      "id": 900,
      "title": "Policy Result Metrics (Detailed Per-Result) - V1 Storage Only",
      "panels": [
        {
          "type": "text",
          "title": "About Policy Result Metrics",
          "gridPos": {
            "h": 4,
            "w": 24,
            "x": 0,
            "y": 14
          },
          "id": 900,
          "options": {
            "mode": "markdown",
            "content": "## Policy Result Metrics\n\n**These metrics show individual policy results with detailed labels.**\n\n- `policy_report_result` - Namespaced PolicyReport results (and EphemeralReport results)\n- `cluster_policy_report_result` - Cluster-scoped PolicyReport results (and ClusterEphemeralReport results)\n\n**Labels available:**\n- `namespace` - Report namespace (for namespaced reports)\n- `policy` - Policy name that generated the result\n- `rule` - Rule name within the policy\n- `status` - Result status: `pass`, `fail`, `warn`, `error`, `skip`\n- `severity` - Severity level: `critical`, `high`, `medium`, `low`, `info`\n- `category` - Policy category\n- `kind` - Resource kind being evaluated\n- `name` - Resource name being evaluated\n\n**Note:** These metrics are populated when reports are created/updated in storage. If you see no data, ensure:\n1. Reports are being created in the system\n2. The storage backend is configured correctly\n3. Check reports-server logs for any errors"
          }
        },
        {
          "type": "timeseries",
          "title": "Policy Report Results by Status",
          "description": "Breakdown of policy report results by their status (pass, fail, warn, error, skip). Shows how many resources are compliant vs non-compliant.",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 18
          },
          "id": 901,
          "targets": [
            {
              "expr": "sum(policy_report_result) by (status)",
              "legendFormat": "{{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Policy Report Results by Severity",
          "description": "Breakdown of policy report results by severity level (critical, high, medium, low, info). Helps prioritize remediation efforts.",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 18
          },
          "id": 902,
          "targets": [
            {
              "expr": "sum(policy_report_result) by (severity)",
              "legendFormat": "{{severity}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Policy Report Results by Policy",
          "description": "Results grouped by policy name. Shows which policies are generating the most results and helps identify policies that may need attention.",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 26
          },
          "id": 903,
          "targets": [
            {
              "expr": "sum(policy_report_result) by (policy)",
              "legendFormat": "{{policy}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Cluster Policy Report Results by Status",
          "description": "Cluster-scoped policy report results by status. Shows compliance status for cluster-wide resources like Nodes, Namespaces, etc.",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 26
          },
          "id": 904,
          "targets": [
            {
              "expr": "sum(cluster_policy_report_result) by (status)",
              "legendFormat": "{{status}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Results by Resource Kind",
          "description": "Policy results grouped by the Kubernetes resource kind (Pod, Deployment, Service, etc.). Shows which resource types have the most policy violations.",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 34
          },
          "id": 905,
          "targets": [
            {
              "expr": "sum(policy_report_result) by (kind)",
              "legendFormat": "Namespaced - {{kind}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            },
            {
              "expr": "sum(cluster_policy_report_result) by (kind)",
              "legendFormat": "Cluster - {{kind}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        },
        {
          "type": "timeseries",
          "title": "Results by Category",
          "description": "Policy results grouped by category (e.g., Pod Security Standards, Best Practices, Security). Shows which policy categories have the most findings.",
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 34
          },
          "id": 906,
          "targets": [
            {
              "expr": "sum(policy_report_result) by (category)",
              "legendFormat": "{{category}}",
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              }
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "smooth",
                "showPoints": "never",
                "lineWidth": 2,
                "fillOpacity": 20,
                "gradientMode": "opacity",
                "spanNulls": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "scaleDistribution": {
                  "type": "linear"
                },
                "pointSize": 5,
                "barAlignment": 0,
                "axisBorderShow": false,
                "axisGridShow": true,
                "axisPlacement": "auto",
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "legend": {
              "showLegend": true,
              "displayMode": "table",
              "placement": "bottom",
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ]
            }
          }
        }
      ]
    },
    {
      "type": "row",
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 14
      },
      "id": 1000,
      "title": "Logs - All Reports Server Replicas"
    },
    {
      "type": "logs",
      "title": "Reports Server Logs (All Pods)",
      "datasource": {
        "type": "loki",
        "uid": "loki"
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "id": 1001,
      "targets": [
        {
          "datasource": {
            "type": "loki",
            "uid": "loki"
          },
          "expr": "{namespace=\"kyverno\", container=\"reports-server\"}",
          "refId": "A"
        }
      ],
      "options": {
        "showTime": true,
        "showLabels": true,
        "showCommonLabels": false,
        "wrapLogMessage": true,
        "prettifyLogMessage": false,
        "enableLogDetails": true,
        "dedupStrategy": "none",
        "sortOrder": "Descending"
      }
    },
    {
      "type": "logs",
      "title": "Error Logs Only",
      "datasource": {
        "type": "loki",
        "uid": "loki"
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 1002,
      "targets": [
        {
          "datasource": {
            "type": "loki",
            "uid": "loki"
          },
          "expr": "{namespace=\"kyverno\", container=\"reports-server\"} |~ \"(?i)(error|fatal|panic|exception)\"",
          "refId": "A"
        }
      ],
      "options": {
        "showTime": true,
        "showLabels": true,
        "showCommonLabels": false,
        "wrapLogMessage": true,
        "prettifyLogMessage": false,
        "enableLogDetails": true,
        "dedupStrategy": "none",
        "sortOrder": "Descending"
      }
    },
    {
      "type": "logs",
      "title": "Warning Logs Only",
      "datasource": {
        "type": "loki",
        "uid": "loki"
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 37
      },
      "id": 1003,
      "targets": [
        {
          "datasource": {
            "type": "loki",
            "uid": "loki"
          },
          "expr": "{namespace=\"kyverno\", container=\"reports-server\"} |~ \"(?i)(warn|warning)\"",
          "refId": "A"
        }
      ],
      "options": {
        "showTime": true,
        "showLabels": true,
        "showCommonLabels": false,
        "wrapLogMessage": true,
        "prettifyLogMessage": false,
        "enableLogDetails": true,
        "dedupStrategy": "none",
        "sortOrder": "Descending"
      }
    }
  ],
  "annotations": {
    "list": [
      {
        "name": "Deployments",
        "datasource": "-- Grafana --",
        "enable": true,
        "iconColor": "green",
        "tags": [
          "deployment"
        ]
      }
    ]
  }
}